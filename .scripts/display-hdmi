#!/bin/sh
echo 'opening output ports'
open_output_ports

while true; do
        read -p '[r]ight | [l]eft | [m]irror | [n]one > ' MODE
        case $MODE in
                [rR])
                        echo 'displaying right...'
                        xrandr --output VIRTUAL1 --auto --right-of eDP1
                        polybar-rebar-wrapper launch
                        fehbg
                        break
                        ;;
                [lL])
                        echo 'displaying left...'
                        xrandr --output VIRTUAL1 --auto --left-of eDP1
                        polybar-rebar-wrapper launch
                        fehbg
                        break
                        ;;
                [mM])
                        echo 'mirroring display...'
                        xrandr --output VIRTUAL1 --auto --same-as eDP1
                        polybar-rebar-wrapper launch
                        fehbg
                        break
                        ;;
                [nM])
                        echo 'exiting...'
                        xrandr --output VIRTUAL1 --off
                        polybar-rebar-wrapper launch
                        fehbg
                        exit 1
                        ;;
                *)
                        echo 'invalid choice'
        esac
done
